local Library = {}

local TweenService = game:GetService("TweenService")
local Camera = workspace:FindFirstChildWhichIsA("Camera")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local RunService = game:GetService("RunService")

Library.TweenPart = function(PartToTween, TweenTime, CFrameToTweenTo, ...)
    local Hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    local Tween = TweenService:Create(PartToTween or Hrp, TweenInfo.new(TweenTime, ...), {CFrame = CFrameToTweenTo})
    return Tween
end

Library.MouseClick = function(PositionX, PositionY, HoldTime)
    VirtualInputManager:SendMouseButtonEvent(PositionX, PositionY, 0, true, game, 0)
    if HoldTime then
        task.wait(HoldTime)
    end
    VirtualInputManager:SendMouseButtonEvent(PositionX, PositionY, 0, false, game, 0)
end

Library.MoveMouse = function(PositionX, PositionY)
    VirtualInputManager:SendMouseMoveEvent(PositionX, PositionY, game)
end

Library.PressKey = function(KeyCode, HoldTime)
    VirtualInputManager:SendKeyEvent(true, KeyCode, false, game)
    if HoldTime then
        task.wait(HoldTime)
    end
    VirtualInputManager:SendKeyEvent(false, KeyCode, false, game)
end

Library.PressButton = function(ButtonLabel)
    Library.MouseClick(ButtonLabel.AbsolutePosition.X + ButtonLabel.AbsoluteSize.X/2, ButtonLabel.AbsolutePosition.Y + ButtonLabel.AbsoluteSize.Y/2)
end

Library.CenterMouseClick = function()
    Library.MouseClick(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
end

Library.MouseM = function(DeltaX, DeltaY)
    VirtualInputManager:SendMouseMoveEvent(DeltaX, DeltaY, game)
end

Library.VirtualCenterMouseClick = function()
    local centerX = Camera.ViewportSize.X / 2
    local centerY = Camera.ViewportSize.Y / 2

    RunService.RenderStepped:Connect(function()
        VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, true, game, 0)
        task.wait()
        VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, false, game, 0)
    end)
end

return Library






return Library
